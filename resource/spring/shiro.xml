<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:tx="http://www.springframework.org/schema/tx" 
	xmlns:context="http://www.springframework.org/schema/context"  
    xmlns:mvc="http://www.springframework.org/schema/mvc"  
    xsi:schemaLocation="http://www.springframework.org/schema/beans     
    http://www.springframework.org/schema/beans/spring-beans-4.2.xsd     
    http://www.springframework.org/schema/tx     
    http://www.springframework.org/schema/tx/spring-tx-4.2.xsd    
    http://www.springframework.org/schema/context    
    http://www.springframework.org/schema/context/spring-context-4.2.xsd    
    http://www.springframework.org/schema/mvc    
    http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd">  
    
    <!-- Shiro Filter 拦截器相关配置 -->    
    <bean id="shiroFilter" class="org.apache.shiro.spring.web.ShiroFilterFactoryBean">    
    	<!-- securityManager -->    
        <property name="securityManager" ref="securityManager" />    
        <!-- 登录路径 -->    
        <property name="loginUrl" value="/toLogin" />    
        <!-- 用户访问无权限的链接时跳转此页面  -->    
        <property name="unauthorizedUrl" value="/unauthorizedUrl.jsp" />    
        <!-- 过滤链定义 -->    
        <!-- anno代表不需要授权即可访问，对于静态资源，访问权限都设置为anno -->
        <!-- authc表示需要登录才可访问 -->
        <!-- /userList=roles[admin]的含义是要访问/userList需要有admin这个角色，如果没有此角色访问此URL会返回无授权页面 -->
        <!-- /userList=authc,perms[/userList]的含义是要访问/userList需要有/userList的权限，要是没分配此权限访问此URL会返回无授权页面 -->
        <property name="filterChainDefinitions">    
            <value>    
                /loginin=anon  
                /toLogin=anon  
                /css/**=anon   
                /html/**=anon   
                /images/**=anon  
                /js/**=anon   
                /upload/**=anon   
                <!-- /userList=roles[admin] -->  
                /userList=authc,perms[/userList]  
                /toDeleteUser=authc,perms[/toDeleteUser]  
                /** = authc  
             </value>    
        </property>    
    </bean>    
    
    <!-- securityManager -->    
    <bean id="securityManager" class="org.apache.shiro.web.mgt.DefaultWebSecurityManager">    
        <property name="realm" ref="myRealm" />    
    </bean>    
    <!-- 自定义Realm实现 -->   
    <bean id="myRealm" class="com.core.shiro.realm.SystemRealm" />    
      
    <bean id="lifecycleBeanPostProcessor" class="org.apache.shiro.spring.LifecycleBeanPostProcessor" />  
      
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">    
       <property name="prefix" value="/"/>    
       <property name="suffix" value=".jsp"></property>    
    </bean>  
      
</beans>    